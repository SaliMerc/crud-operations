{% extends 'base.html' %} 
{% load static %} 

{% block content %}
<h1 class="text-3xl font-bold mb-6 text-left p-4">BlogCorner Articles</h1>
<div class="container mx-auto px-4">
    {% if messages %}
    {% for message in messages %}
      <div class="bg-green-100 text-green-700 p-4 rounded-md mb-4">{{ message }}</div>
    {% endfor %}
  {% endif %}

  {% if blogs %}
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for blog in blogs %}
    <div class="bg-[#EAF9E7] shadow-lg rounded-lg p-4">
      {% if blog.image %}
      <img
        src="{{ blog.image.url }}"
        alt="{{ blog.title }}"
        class="w-full h-48 object-cover rounded-md mb-4"
      />
      {% else %}
      <div
        class="w-full h-48 bg-gray-200 rounded-md mb-4 flex items-center justify-center"
      >
        <span class="text-gray-500">No Image</span>
      </div>
      {% endif %}
      <h2 class="text-xl font-semibold mb-2">{{ blog.title }}</h2>
      
      <p class="text-gray-600 mb-2">
        By <span class='text-[#013237] font-semibold'>{{ blog.author }}</span> on {{ blog.created_at|date:"F d, Y" }}
      </p>
      <hr class='my-5' />
      <p class="text-gray-700 mb-4">{{ blog.content|truncatewords:30 }}</p>
      <div class="flex justify-between">
        <div>
          <a
            href="{% url 'blog-detail' blog.id %}"
            class="text-[#013237] font-semibold underline "
            >Read More...</a
          >
        </div>

        <div class="space-x-4">
          <a
            href="{% url 'update-blog' blog.id %}"
            class="text-blue-500 hover:underline"
            >Edit</a
          >
          <a
            href="{% url 'delete-blog' blog.id %}"
            class="text-[#DF5311] hover:underline"
            >Delete</a
          >
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p class="text-center text-black">No blogs available.</p>
  {% endif %}
</div>
{% endblock %}
